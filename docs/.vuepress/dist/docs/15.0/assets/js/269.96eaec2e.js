(window.webpackJsonp=window.webpackJsonp||[]).push([[269],{743:function(t,e,a){"use strict";a.r(e);var s=a(47),n=Object(s.a)({},(function(){var t=this,e=t._self._c;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"persistentstate"}},[e("a",{staticClass:"header-link",attrs:{href:"#persistentstate"}},[e("span",{staticClass:"header-framework"},[t._v("React Data Grid")]),t._v("PersistentState")])]),t._v(" "),e("p"),e("div",{staticClass:"table-of-contents"},[e("div",{staticClass:"toc-container-header"},[e("i",{staticClass:"ico i-toc"}),t._v("On this page")]),e("ul",[e("li",[e("a",{attrs:{href:"#description"}},[t._v("Description")])]),e("li",[e("a",{attrs:{href:"#options"}},[t._v("Options")]),e("ul",[e("li",[e("a",{attrs:{href:"#persistentstate-2"}},[t._v("persistentState")])])])]),e("li",[e("a",{attrs:{href:"#methods"}},[t._v("Methods")]),e("ul",[e("li",[e("a",{attrs:{href:"#destroy"}},[t._v("destroy")])]),e("li",[e("a",{attrs:{href:"#disableplugin"}},[t._v("disablePlugin")])]),e("li",[e("a",{attrs:{href:"#enableplugin"}},[t._v("enablePlugin")])]),e("li",[e("a",{attrs:{href:"#isenabled"}},[t._v("isEnabled")])]),e("li",[e("a",{attrs:{href:"#loadvalue"}},[t._v("loadValue")])]),e("li",[e("a",{attrs:{href:"#resetvalue"}},[t._v("resetValue")])]),e("li",[e("a",{attrs:{href:"#savevalue"}},[t._v("saveValue")])]),e("li",[e("a",{attrs:{href:"#updateplugin"}},[t._v("updatePlugin")])])])])])]),e("p"),t._v(" "),e("h2",{attrs:{id:"description"}},[e("a",{staticClass:"header-link",attrs:{href:"#description"}},[t._v("Description")])]),t._v(" "),e("p",[t._v("Save the state of column sorting, column positions and column sizes in local storage to preserve table state\nbetween page reloads.")]),t._v(" "),e("p",[t._v("In order to enable data storage mechanism, "),e("RouterLink",{attrs:{to:"/react-data-grid/api/options/#persistentstate"}},[t._v("Options#persistentState")]),t._v(" option must be set to "),e("code",[t._v("true")]),t._v(".")],1),t._v(" "),e("p",[t._v("When persistentState is enabled it exposes 3 hooks:")]),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/react-data-grid/api/hooks/#persistentstatesave"}},[t._v("Hooks#persistentStateSave")]),t._v(" - Saves value under given key in browser local storage.")],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/react-data-grid/api/hooks/#persistentstateload"}},[t._v("Hooks#persistentStateLoad")]),t._v(" - Loads value, saved under given key, from browser local storage. The loaded\nvalue will be saved in "),e("code",[t._v("saveTo.value")]),t._v(".")],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/react-data-grid/api/hooks/#persistentstatereset"}},[t._v("Hooks#persistentStateReset")]),t._v(" - Clears the value saved under key. If no key is given, all values associated\nwith table will be cleared.")],1)]),t._v(" "),e("p",[e("strong",[t._v("Note:")]),t._v(" The main reason behind using "),e("code",[t._v("persistentState")]),t._v(" hooks rather than regular LocalStorage API is that it\nensures separation of data stored by multiple Handsontable instances. In other words, if you have two (or more)\ninstances of Handsontable on one page, data saved by one instance won't be accessible by the second instance.\nThose two instances can store data under the same key and no data would be overwritten.")]),t._v(" "),e("p",[e("strong",[t._v("Important:")]),t._v(" In order for the data separation to work properly, make sure that each instance of Handsontable has a unique "),e("code",[t._v("id")]),t._v(".")]),t._v(" "),e("h2",{attrs:{id:"options"}},[e("a",{staticClass:"header-link",attrs:{href:"#options"}},[t._v("Options")])]),t._v(" "),e("h3",{attrs:{id:"persistentstate-2"}},[e("a",{staticClass:"header-link",attrs:{href:"#persistentstate-2"}},[t._v("persistentState")])]),t._v(" "),e("a",{staticClass:"source-code-link",attrs:{href:"https://github.com/handsontable/handsontable/blob/34e9d0aded2c90f656e6de8cc0a811b812dd92c4/handsontable/src/dataMap/metaManager/metaSchema.js#L3583",target:"_blank"}},[t._v(" Source code "),e("i",{staticClass:"ico i-external"})]),e("p",[e("em",[t._v("persistentState.persistentState : boolean")])]),t._v(" "),e("p",[t._v("The "),e("code",[t._v("persistentState")]),t._v(" option configures the "),e("RouterLink",{attrs:{to:"/react-data-grid/api/persistent-state/"}},[e("code",[t._v("PersistentState")])]),t._v(" plugin.")],1),t._v(" "),e("p",[t._v("You can set the "),e("code",[t._v("persistentState")]),t._v(" to one of the following:")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Setting")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[e("code",[t._v("false")]),t._v(" (default)")]),t._v(" "),e("td",[t._v("Disable the "),e("RouterLink",{attrs:{to:"/react-data-grid/api/persistent-state/"}},[e("code",[t._v("PersistentState")])]),t._v(" plugin")],1)]),t._v(" "),e("tr",[e("td",[e("code",[t._v("true")])]),t._v(" "),e("td",[t._v("Enable the "),e("RouterLink",{attrs:{to:"/react-data-grid/api/persistent-state/"}},[e("code",[t._v("PersistentState")])]),t._v(" plugin")],1)])])]),t._v(" "),e("p",[t._v("Read more:")]),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/react-data-grid/saving-data/#save-data-locally"}},[t._v("Saving data: Saving data locally")])],1),t._v(" "),e("li",[e("RouterLink",{attrs:{to:"/react-data-grid/api/persistent-state/"}},[t._v("Plugins: "),e("code",[t._v("PersistentState")])])],1)]),t._v(" "),e("p",[e("strong",[t._v("Default")]),t._v(": "),e("code",[t._v("false")]),e("br"),t._v(" "),e("strong",[t._v("Example")])]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// enable the `PersistentState` plugin")]),t._v("\n"),e("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("persistentState")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])]),t._v(" "),e("div",{staticClass:"codeControls"},[e("div",{staticClass:"select-type"},[e("button",{staticClass:"select-type-button",attrs:{type:"button",value:"js"},on:{click:function(e){return t.$parent.$parent.toggleDropdown(e)}}},[t._v("\n                "+t._s(t.$parent.$parent.selectedLang)+"\n              ")]),t._v(" "),e("ul",[e("li",[e("button",{class:{"select-type-js":!0,active:!0},attrs:{type:"button"},on:{click:function(e){return t.$parent.$parent.setLanguage("JavaScript")}}},[t._v("\n                    JavaScript\n                  ")])]),t._v(" "),e("li",[e("button",{class:{"select-type-ts":!0,active:!1},attrs:{type:"button"},on:{click:function(e){return t.$parent.$parent.setLanguage("TypeScript")}}},[t._v("\n                    TypeScript\n                  ")])])])]),t._v(" "),e("button",{staticClass:"copycode",attrs:{"aria-label":"Copy to clipboard"},on:{click:function(e){return t.$parent.$parent.copyCode(e)}}},[e("i",{staticClass:"ico i-copy no-pointer"}),e("i",{staticClass:"ico i-checks no-pointer"})])])]),e("h2",{attrs:{id:"methods"}},[e("a",{staticClass:"header-link",attrs:{href:"#methods"}},[t._v("Methods")])]),t._v(" "),e("h3",{attrs:{id:"destroy"}},[e("a",{staticClass:"header-link",attrs:{href:"#destroy"}},[t._v("destroy")])]),t._v(" "),e("a",{staticClass:"source-code-link",attrs:{href:"https://github.com/handsontable/handsontable/blob/34e9d0aded2c90f656e6de8cc0a811b812dd92c4/handsontable/src/plugins/persistentState/persistentState.js#L144",target:"_blank"}},[t._v(" Source code "),e("i",{staticClass:"ico i-external"})]),e("p",[e("em",[t._v("persistentState.destroy()")])]),t._v(" "),e("p",[t._v("Destroys the plugin instance.")]),t._v(" "),e("h3",{attrs:{id:"disableplugin"}},[e("a",{staticClass:"header-link",attrs:{href:"#disableplugin"}},[t._v("disablePlugin")])]),t._v(" "),e("a",{staticClass:"source-code-link",attrs:{href:"https://github.com/handsontable/handsontable/blob/34e9d0aded2c90f656e6de8cc0a811b812dd92c4/handsontable/src/plugins/persistentState/persistentState.js#L88",target:"_blank"}},[t._v(" Source code "),e("i",{staticClass:"ico i-external"})]),e("p",[e("em",[t._v("persistentState.disablePlugin()")])]),t._v(" "),e("p",[t._v("Disables the plugin functionality for this Handsontable instance.")]),t._v(" "),e("h3",{attrs:{id:"enableplugin"}},[e("a",{staticClass:"header-link",attrs:{href:"#enableplugin"}},[t._v("enablePlugin")])]),t._v(" "),e("a",{staticClass:"source-code-link",attrs:{href:"https://github.com/handsontable/handsontable/blob/34e9d0aded2c90f656e6de8cc0a811b812dd92c4/handsontable/src/plugins/persistentState/persistentState.js#L69",target:"_blank"}},[t._v(" Source code "),e("i",{staticClass:"ico i-external"})]),e("p",[e("em",[t._v("persistentState.enablePlugin()")])]),t._v(" "),e("p",[t._v("Enables the plugin functionality for this Handsontable instance.")]),t._v(" "),e("h3",{attrs:{id:"isenabled"}},[e("a",{staticClass:"header-link",attrs:{href:"#isenabled"}},[t._v("isEnabled")])]),t._v(" "),e("a",{staticClass:"source-code-link",attrs:{href:"https://github.com/handsontable/handsontable/blob/34e9d0aded2c90f656e6de8cc0a811b812dd92c4/handsontable/src/plugins/persistentState/persistentState.js#L62",target:"_blank"}},[t._v(" Source code "),e("i",{staticClass:"ico i-external"})]),e("p",[e("em",[t._v("persistentState.isEnabled() â‡’ boolean")])]),t._v(" "),e("p",[t._v("Checks if the plugin is enabled in the handsontable settings. This method is executed in "),e("RouterLink",{attrs:{to:"/react-data-grid/api/hooks/#beforeinit"}},[t._v("Hooks#beforeInit")]),t._v("\nhook and if it returns "),e("code",[t._v("true")]),t._v(" then the "),e("RouterLink",{attrs:{to:"/react-data-grid/api/persistent-state/#enableplugin"}},[t._v("PersistentState#enablePlugin")]),t._v(" method is called.")],1),t._v(" "),e("h3",{attrs:{id:"loadvalue"}},[e("a",{staticClass:"header-link",attrs:{href:"#loadvalue"}},[t._v("loadValue")])]),t._v(" "),e("a",{staticClass:"source-code-link",attrs:{href:"https://github.com/handsontable/handsontable/blob/34e9d0aded2c90f656e6de8cc0a811b812dd92c4/handsontable/src/plugins/persistentState/persistentState.js#L113",target:"_blank"}},[t._v(" Source code "),e("i",{staticClass:"ico i-external"})]),e("p",[e("em",[t._v("persistentState.loadValue(key, saveTo)")])]),t._v(" "),e("p",[t._v("Loads the value from local storage.")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Param")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("key")]),t._v(" "),e("td",[e("code",[t._v("string")])]),t._v(" "),e("td",[t._v("Storage key.")])]),t._v(" "),e("tr",[e("td",[t._v("saveTo")]),t._v(" "),e("td",[e("code",[t._v("object")])]),t._v(" "),e("td",[t._v("Saved value from local storage.")])])])]),t._v(" "),e("h3",{attrs:{id:"resetvalue"}},[e("a",{staticClass:"header-link",attrs:{href:"#resetvalue"}},[t._v("resetValue")])]),t._v(" "),e("a",{staticClass:"source-code-link",attrs:{href:"https://github.com/handsontable/handsontable/blob/34e9d0aded2c90f656e6de8cc0a811b812dd92c4/handsontable/src/plugins/persistentState/persistentState.js#L132",target:"_blank"}},[t._v(" Source code "),e("i",{staticClass:"ico i-external"})]),e("p",[e("em",[t._v("persistentState.resetValue(key)")])]),t._v(" "),e("p",[t._v("Resets the data or all data from local storage.")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Param")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("key")]),t._v(" "),e("td",[e("code",[t._v("string")])]),t._v(" "),e("td",[t._v("[optional] Storage key.")])])])]),t._v(" "),e("h3",{attrs:{id:"savevalue"}},[e("a",{staticClass:"header-link",attrs:{href:"#savevalue"}},[t._v("saveValue")])]),t._v(" "),e("a",{staticClass:"source-code-link",attrs:{href:"https://github.com/handsontable/handsontable/blob/34e9d0aded2c90f656e6de8cc0a811b812dd92c4/handsontable/src/plugins/persistentState/persistentState.js#L123",target:"_blank"}},[t._v(" Source code "),e("i",{staticClass:"ico i-external"})]),e("p",[e("em",[t._v("persistentState.saveValue(key, value)")])]),t._v(" "),e("p",[t._v("Saves the data to local storage.")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",[t._v("Param")]),t._v(" "),e("th",[t._v("Type")]),t._v(" "),e("th",[t._v("Description")])])]),t._v(" "),e("tbody",[e("tr",[e("td",[t._v("key")]),t._v(" "),e("td",[e("code",[t._v("string")])]),t._v(" "),e("td",[t._v("Storage key.")])]),t._v(" "),e("tr",[e("td",[t._v("value")]),t._v(" "),e("td",[e("code",[t._v("Mixed")])]),t._v(" "),e("td",[t._v("Value to save.")])])])]),t._v(" "),e("h3",{attrs:{id:"updateplugin"}},[e("a",{staticClass:"header-link",attrs:{href:"#updateplugin"}},[t._v("updatePlugin")])]),t._v(" "),e("a",{staticClass:"source-code-link",attrs:{href:"https://github.com/handsontable/handsontable/blob/34e9d0aded2c90f656e6de8cc0a811b812dd92c4/handsontable/src/plugins/persistentState/persistentState.js#L100",target:"_blank"}},[t._v(" Source code "),e("i",{staticClass:"ico i-external"})]),e("p",[e("em",[t._v("persistentState.updatePlugin()")])]),t._v(" "),e("p",[t._v("Updates the plugin's state.")]),t._v(" "),e("p",[t._v("This method is executed when "),e("RouterLink",{attrs:{to:"/react-data-grid/api/core/#updatesettings"}},[e("code",[t._v("updateSettings()")])]),t._v(" is invoked with any of the following configuration options:")],1),t._v(" "),e("ul",[e("li",[e("RouterLink",{attrs:{to:"/react-data-grid/api/options/#persistentstate"}},[e("code",[t._v("persistentState")])])],1)])])}),[],!1,null,null,null);e.default=n.exports}}]);